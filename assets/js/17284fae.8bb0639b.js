"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[645],{1840:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>i,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"example","title":"Example","description":"Here is an example `TestTree.rbxbtree.luau` module:","source":"@site/docs/example.md","sourceDirName":".","slug":"/example","permalink":"/RbxBehaviorTree/docs/example","draft":false,"unlisted":false,"editUrl":"https://github.com/Fangous/RbxBehaviorTree/edit/main/docs/example.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Example","sidebar_position":4},"sidebar":"defaultSidebar","previous":{"title":"Plugin","permalink":"/RbxBehaviorTree/docs/plugin"}}');var r=n(4848),o=n(8453);const s={title:"Example",sidebar_position:4},l="Example",i={},c=[];function d(t){const e={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,o.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"example",children:"Example"})}),"\n",(0,r.jsxs)(e.p,{children:["Here is an example ",(0,r.jsx)(e.code,{children:"TestTree.rbxbtree.luau"})," module:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'--!strict\nlocal RbxBehaviorTree = require(path.to.RbxBehaviorTree)\n\nlocal FallbackNode = RbxBehaviorTree.FallbackNode\nlocal SequenceNode = RbxBehaviorTree.SequenceNode\nlocal ActionNode = RbxBehaviorTree.ActionNode\nlocal NodeResults = RbxBehaviorTree.NodeResults\n\nreturn function(object: any)\n\tlocal fireAlarmOn = false\n\tlocal distanceFromBuilding = 0\n\tlocal safeDistance = 5\n\tlocal hasApple = false\n\tlocal hasSandwich = true\n\tlocal hasBanana = true\n\tlocal isBananaOpen = false\n\n\tlocal nodeTree = SequenceNode("Root", {\n\t\tFallbackNode("CheckForFireAlarm", {\n\t\t\tActionNode("FireAlarmOff", function()\n\t\t\t\tif not fireAlarmOn then\n\t\t\t\t\tprint("No fire alarm")\n\t\t\t\t\treturn NodeResults.SUCCESS\n\t\t\t\telse\n\t\t\t\t\tprint("Fire alarm is on!")\n\t\t\t\t\treturn NodeResults.FAILURE\n\t\t\t\tend\n\t\t\tend),\n\t\t\tActionNode("RunAway", function()\n\t\t\t\tif distanceFromBuilding < safeDistance then\n\t\t\t\t\tdistanceFromBuilding += 1\n\t\t\t\t\tprint("Run away!")\n\t\t\t\t\treturn NodeResults.RUNNING\n\t\t\t\telse\n\t\t\t\t\treturn NodeResults.SUCCESS\n\t\t\t\tend\n\t\t\tend),\n\t\t}),\n\t\tFallbackNode("EatFood", {\n\t\t\tActionNode("EatApple", function()\n\t\t\t\tif hasApple then\n\t\t\t\t\thasApple = false\n\t\t\t\t\tprint("Ate apple!")\n\t\t\t\t\treturn NodeResults.SUCCESS\n\t\t\t\telse\n\t\t\t\t\tprint("We don\'t have an apple!")\n\t\t\t\t\treturn NodeResults.FAILURE\n\t\t\t\tend\n\t\t\tend),\n\t\t\tActionNode("EatSandwich", function()\n\t\t\t\tif hasSandwich then\n\t\t\t\t\thasSandwich = false\n\t\t\t\t\tprint("Ate sandwich!")\n\t\t\t\t\treturn NodeResults.SUCCESS\n\t\t\t\telse\n\t\t\t\t\tprint("We don\'t have a sandwich!")\n\t\t\t\t\treturn NodeResults.FAILURE\n\t\t\t\tend\n\t\t\tend),\n\t\t\tSequenceNode("EatBanana", {\n\t\t\t\tActionNode("OpenBanana", function()\n\t\t\t\t\tif hasBanana then\n\t\t\t\t\t\tisBananaOpen = true\n\t\t\t\t\t\tprint("Opened banana!")\n\t\t\t\t\t\treturn NodeResults.SUCCESS\n\t\t\t\t\telse\n\t\t\t\t\t\tprint("We can\'t open a non-existent banana!")\n\t\t\t\t\t\treturn NodeResults.FAILURE\n\t\t\t\t\tend\n\t\t\t\tend),\n\t\t\t\tActionNode("EatBanana", function()\n\t\t\t\t\tif hasBanana and isBananaOpen then\n\t\t\t\t\t\thasBanana = false\n\t\t\t\t\t\tprint("Ate banana!")\n\t\t\t\t\t\treturn NodeResults.SUCCESS\n\t\t\t\t\telse\n\t\t\t\t\t\t--Currently this will never print, since our parent SequenceNode will always fail out at "OpenBanana"\n\t\t\t\t\t\tprint("Where is our banana?")\n\t\t\t\t\t\treturn NodeResults.FAILURE\n\t\t\t\t\tend\n\t\t\t\tend),\n\t\t\t}),\n\t\t}),\n\t})\n\n\treturn RbxBehaviorTree.New(1, nodeTree)\nend\n'})}),"\n",(0,r.jsx)(e.p,{children:"You can now create a new TestTree behavior tree and clean it up after 10 seconds with the following code:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"local TestTree = require(path.to.TestTree)\n\nlocal newTestTree = TestTree()\ntask.wait(10)\nnewTestTree.Destroy() -- Clean up newTestTree\n"})})]})}function u(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(d,{...t})}):d(t)}},8453:(t,e,n)=>{n.d(e,{R:()=>s,x:()=>l});var a=n(6540);const r={},o=a.createContext(r);function s(t){const e=a.useContext(o);return a.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function l(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:s(t.components),a.createElement(o.Provider,{value:e},t.children)}}}]);